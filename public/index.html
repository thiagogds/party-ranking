<!doctype html>
<html ng-app="party">
    <head>
        <title>party ranking</title>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.6/angular.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.6/angular-resource.min.js"></script>
        <script src="/js/party-ranking.js"></script>
        <script src="/js/lib/localstorage.js"></script>
        <script>
            (function(d){
            var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
            if (d.getElementById(id)) {return;}
            js = d.createElement('script'); js.id = id; js.async = true;
            js.src = "//connect.facebook.net/en_US/all.js";
            ref.parentNode.insertBefore(js, ref);
            }(document));

            window.fbAsyncInit = function () {
                FB.init({
                    appId      : '627209833972894', // App ID
                    channelUrl : '//localhost:3001', // Channel File
                    status     : true, // check login status
                    cookie     : true, // enable cookies to allow the server to access the session
                    xfbml      : true  // parse XFBML
                });

                FB.Event.subscribe('auth.authResponseChange', function(response) {
                    if (response.status === 'connected') {
                        console.log(response);
                    } else {
                        FB.login
                    }
                });
            }
        </script>
    </head>
    <body>
        <div id="header">
            <div id="logo">
                <a href="/">party ranking</a>
            </div>
            <div id="signup">
                <fb:login-button show-faces="true" width="200" max-rows="1"></fb:login-button>
            </div>
        </div>
        <div ng-view></div>
    </body>
</html>
